<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Color Picker â€” SmallTools</title>
  <link rel="stylesheet" href="../../assets/style.css">
  <style>
    .big-picker{width:100%;height:200px;border:none;border-radius:10px;cursor:pointer;background:none;padding:0;display:block}
    .color-values{display:grid;grid-template-columns:repeat(auto-fill,minmax(180px,1fr));gap:10px;margin-top:14px}
    .val-box{background:var(--bg);border:1.5px solid var(--border);border-radius:8px;padding:10px 14px;display:flex;justify-content:space-between;align-items:center}
    .val-label{font-size:11px;font-weight:700;color:var(--text-2);text-transform:uppercase;letter-spacing:.5px;margin-bottom:2px}
    .val-text{font-size:14px;font-weight:600;font-family:"SF Mono","Fira Code",monospace}
  </style>
</head>
<body>
  <header class="site-header">
    <div class="container"><a href="../../index.html" class="logo">Small<span>Tools</span></a></div>
  </header>
  <main class="tool-page">
    <div class="breadcrumb"><a href="../../index.html">Home</a> / <a href="../../index.html">Color</a> / Color Picker</div>
    <div class="tool-header">
      <h1><span>ðŸŽ¨</span> Color Picker</h1>
      <p>Pick a color and get HEX, RGB, HSL, and HSV values instantly.</p>
    </div>
    <div class="card">
      <div style="display:flex;gap:20px;align-items:center;flex-wrap:wrap;margin-bottom:14px">
        <input type="color" id="picker" value="#2563eb" oninput="update()" style="width:80px;height:80px;border:none;border-radius:10px;cursor:pointer;background:none;padding:0">
        <div id="bigSwatch" style="flex:1;min-width:120px;height:80px;border-radius:10px;border:1.5px solid var(--border);transition:background .1s"></div>
        <input type="text" id="hexInput" value="#2563eb" placeholder="#000000" style="width:120px;font-family:monospace" oninput="fromHex()">
      </div>
      <div class="color-values" id="vals"></div>
      <div style="margin-top:18px"><label>Recent colors</label><div id="recent" style="display:flex;gap:8px;flex-wrap:wrap;margin-top:8px"></div></div>
    </div>
  </main>
  <script>
    const recent=[];
    function hexToRgb(h){const r=parseInt(h.slice(1,3),16),g=parseInt(h.slice(3,5),16),b=parseInt(h.slice(5,7),16);return{r,g,b};}
    function rgbToHsl(r,g,b){r/=255;g/=255;b/=255;const mx=Math.max(r,g,b),mn=Math.min(r,g,b);let h,s,l=(mx+mn)/2;if(mx===mn){h=s=0;}else{const d=mx-mn;s=l>0.5?d/(2-mx-mn):d/(mx+mn);switch(mx){case r:h=(g-b)/d+(g<b?6:0);break;case g:h=(b-r)/d+2;break;case b:h=(r-g)/d+4;break;}h/=6;}return{h:Math.round(h*360),s:Math.round(s*100),l:Math.round(l*100)};}
    function rgbToHsv(r,g,b){r/=255;g/=255;b/=255;const mx=Math.max(r,g,b),mn=Math.min(r,g,b),d=mx-mn;let h,s=mx===0?0:d/mx,v=mx;if(mx===mn)h=0;else{switch(mx){case r:h=(g-b)/d+(g<b?6:0);break;case g:h=(b-r)/d+2;break;case b:h=(r-g)/d+4;break;}h/=6;}return{h:Math.round(h*360),s:Math.round(s*100),v:Math.round(v*100)};}
    function update(){
      const hex=document.getElementById('picker').value;
      document.getElementById('hexInput').value=hex;
      document.getElementById('bigSwatch').style.background=hex;
      const {r,g,b}=hexToRgb(hex);
      const {h,s,l}=rgbToHsl(r,g,b);
      const hsv=rgbToHsv(r,g,b);
      const vals=[
        {l:'HEX',v:hex.toUpperCase()},
        {l:'RGB',v:`rgb(${r}, ${g}, ${b})`},
        {l:'HSL',v:`hsl(${h}, ${s}%, ${l}%)`},
        {l:'HSV',v:`hsv(${hsv.h}, ${hsv.s}%, ${hsv.v}%)`},
        {l:'R',v:r},{l:'G',v:g},{l:'B',v:b},
        {l:'Luminance',v:((0.299*r+0.587*g+0.114*b)/255*100).toFixed(1)+'%'},
      ];
      document.getElementById('vals').innerHTML=vals.map(v=>`<div class="val-box"><div><div class="val-label">${v.l}</div><div class="val-text">${v.v}</div></div><button class="btn btn-copy" onclick="navigator.clipboard.writeText('${v.v.replace(/'/g,'')}')">Copy</button></div>`).join('');
      if(!recent.includes(hex)){recent.unshift(hex);if(recent.length>10)recent.pop();renderRecent();}
    }
    function renderRecent(){document.getElementById('recent').innerHTML=recent.map(c=>`<div title="${c}" onclick="document.getElementById('picker').value='${c}';update()" style="width:32px;height:32px;border-radius:6px;background:${c};border:1.5px solid var(--border);cursor:pointer"></div>`).join('');}
    function fromHex(){const h=document.getElementById('hexInput').value.trim();if(/^#[0-9a-fA-F]{6}$/.test(h)){document.getElementById('picker').value=h;update();}}
    update();
  </script>
</body>
</html>
