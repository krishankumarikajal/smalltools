<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>BMI Calculator — SmallTools</title>
  <link rel="stylesheet" href="../../assets/style.css">
  <style>.bmi-bar{height:18px;border-radius:999px;background:linear-gradient(to right,#3b82f6 0%,#22c55e 30%,#eab308 60%,#f97316 80%,#ef4444 100%);position:relative;margin:16px 0 6px}.bmi-needle{position:absolute;top:-6px;width:4px;height:30px;background:#111;border-radius:2px;transform:translateX(-50%);transition:left .4s}</style>
</head>
<body>
  <header class="site-header">
    <div class="container"><a href="../../index.html" class="logo">Small<span>Tools</span></a></div>
  </header>
  <main class="tool-page">
    <div class="breadcrumb"><a href="../../index.html">Home</a> / <a href="../../index.html">Math</a> / BMI Calculator</div>
    <div class="tool-header">
      <h1><span>⚖️</span> BMI Calculator</h1>
      <p>Calculate your Body Mass Index and see your weight category.</p>
    </div>
    <div class="card">
      <div style="display:flex;gap:10px;margin-bottom:10px">
        <button id="metricBtn" class="btn btn-primary" onclick="setSystem('metric')">Metric (kg/cm)</button>
        <button id="imperialBtn" class="btn btn-ghost" onclick="setSystem('imperial')">Imperial (lb/in)</button>
      </div>
      <div style="display:grid;grid-template-columns:1fr 1fr;gap:12px">
        <div class="form-row" style="margin:0"><label id="wLabel">Weight (kg)</label><input type="number" id="weight" placeholder="70" oninput="calc()"></div>
        <div class="form-row" style="margin:0"><label id="hLabel">Height (cm)</label><input type="number" id="height" placeholder="170" oninput="calc()"></div>
      </div>
      <div class="result-row" id="resultRow" style="display:none;flex-direction:column;align-items:flex-start;gap:4px">
        <div style="display:flex;justify-content:space-between;width:100%">
          <div><div class="result-label">Your BMI</div><div class="result-value" id="bmiVal">—</div></div>
          <div style="text-align:right"><div class="result-label">Category</div><div id="bmiCat" style="font-size:16px;font-weight:700;margin-top:4px"></div></div>
        </div>
        <div style="width:100%">
          <div class="bmi-bar"><div class="bmi-needle" id="needle"></div></div>
          <div style="display:flex;justify-content:space-between;font-size:11px;color:var(--text-2)"><span>Underweight</span><span>Normal</span><span>Overweight</span><span>Obese</span></div>
        </div>
      </div>
    </div>
  </main>
  <script>
    let sys = 'metric';
    function setSystem(s) { sys=s; document.getElementById('metricBtn').className='btn '+(s==='metric'?'btn-primary':'btn-ghost'); document.getElementById('imperialBtn').className='btn '+(s==='imperial'?'btn-primary':'btn-ghost'); document.getElementById('wLabel').textContent='Weight '+(s==='metric'?'(kg)':'(lb)'); document.getElementById('hLabel').textContent='Height '+(s==='metric'?'(cm)':'(in)'); calc(); }
    function calc() {
      let w=parseFloat(document.getElementById('weight').value), h=parseFloat(document.getElementById('height').value);
      if(isNaN(w)||isNaN(h)||w<=0||h<=0){document.getElementById('resultRow').style.display='none';return;}
      if(sys==='imperial'){w*=0.453592;h*=2.54;}
      const bmi=w/((h/100)**2);
      document.getElementById('resultRow').style.display='flex';
      document.getElementById('bmiVal').textContent=bmi.toFixed(1);
      const cats=[['Underweight','#3b82f6',0,18.5],['Normal weight','#22c55e',18.5,25],['Overweight','#eab308',25,30],['Obese','#ef4444',30,60]];
      const cat=cats.find(c=>bmi<c[3])||cats[3];
      document.getElementById('bmiCat').textContent=cat[0]; document.getElementById('bmiCat').style.color=cat[1];
      const pct=Math.min(100,Math.max(0,(bmi-10)/40*100));
      document.getElementById('needle').style.left=pct+'%';
    }
  </script>
</body>
</html>
