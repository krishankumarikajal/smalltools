<!DOCTYPE html>
<html lang="en" data-theme="light">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Loan / EMI Calculator ‚Äî SmallTools</title>
  <link rel="stylesheet" href="../../assets/style.css">
  <script>(function(){const t=localStorage.getItem('st-theme')||'light';document.documentElement.setAttribute('data-theme',t);})();</script>
  <style>.out-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(160px,1fr));gap:12px;margin-top:16px}.schedule-table{width:100%;border-collapse:collapse;font-size:13px;margin-top:16px}.schedule-table th{background:var(--bg);padding:8px;text-align:right;border:1px solid var(--border);font-weight:700}.schedule-table td{padding:7px 8px;text-align:right;border:1px solid var(--border)}.schedule-table tr:nth-child(even){background:var(--bg)}</style>
</head>
<body>
  <header class="site-header">
    <div class="container" style="display:flex;align-items:center;justify-content:space-between;padding:10px 20px">
      <a href="../../index.html" class="logo logo-sm">Small<span>Tools</span></a>
      <button class="theme-toggle" id="themeToggle">üåô</button>
    </div>
  </header>
  <main class="tool-page" style="max-width:860px">
    <div class="breadcrumb"><a href="../../index.html">Home</a> / <a href="../../index.html">Math</a> / Loan Calculator</div>
    <div class="tool-header">
      <h1><span>üè¶</span> Loan / EMI Calculator</h1>
      <p>Calculate monthly EMI, total interest, and view the repayment schedule.</p>
    </div>
    <div class="card">
      <div style="display:grid;grid-template-columns:1fr 1fr 1fr;gap:16px;flex-wrap:wrap">
        <div class="form-row" style="margin:0"><label>Loan Amount</label><input type="number" id="amount" value="500000" min="0" oninput="calc()"></div>
        <div class="form-row" style="margin:0"><label>Annual Interest Rate (%)</label><input type="number" id="rate" value="10" min="0" max="100" step="0.01" oninput="calc()"></div>
        <div class="form-row" style="margin:0"><label>Tenure (months)</label><input type="number" id="tenure" value="60" min="1" oninput="calc()"></div>
      </div>
      <div class="out-grid">
        <div class="result-row" style="flex-direction:column;align-items:flex-start"><div class="result-label">Monthly EMI</div><div class="result-value" id="emi">‚Äî</div></div>
        <div class="result-row" style="flex-direction:column;align-items:flex-start"><div class="result-label">Total Payment</div><div class="result-value" id="total">‚Äî</div></div>
        <div class="result-row" style="flex-direction:column;align-items:flex-start"><div class="result-label">Total Interest</div><div class="result-value" id="interest">‚Äî</div></div>
        <div class="result-row" style="flex-direction:column;align-items:flex-start"><div class="result-label">Interest %</div><div class="result-value" id="intPct">‚Äî</div></div>
      </div>
      <details style="margin-top:18px"><summary style="cursor:pointer;font-weight:600;font-size:14px">Show amortization schedule</summary>
        <div style="overflow-x:auto"><table class="schedule-table" id="sched"></table></div>
      </details>
    </div>
  </main>
  <script>
    function fmt(v){return v.toLocaleString('en-IN',{minimumFractionDigits:0,maximumFractionDigits:0});}
    function calc() {
      const P=parseFloat(document.getElementById('amount').value)||0;
      const r=parseFloat(document.getElementById('rate').value)||0;
      const n=parseInt(document.getElementById('tenure').value)||0;
      if(!P||!n){document.getElementById('emi').textContent='‚Äî';return;}
      let emi, totalInt;
      if(r===0){emi=P/n;totalInt=0;}
      else{const rm=r/12/100;emi=P*rm*Math.pow(1+rm,n)/(Math.pow(1+rm,n)-1);totalInt=emi*n-P;}
      document.getElementById('emi').textContent=fmt(emi);
      document.getElementById('total').textContent=fmt(emi*n);
      document.getElementById('interest').textContent=fmt(totalInt);
      document.getElementById('intPct').textContent=(totalInt/P*100).toFixed(1)+'%';

      // Schedule
      let bal=P, rows='<tr><th>#</th><th>EMI</th><th>Principal</th><th>Interest</th><th>Balance</th></tr>';
      for(let i=1;i<=n;i++){
        const intPart=bal*(r/12/100);
        const prinPart=emi-intPart;
        bal=Math.max(0,bal-prinPart);
        rows+=`<tr><td>${i}</td><td>${fmt(emi)}</td><td>${fmt(prinPart)}</td><td>${fmt(intPart)}</td><td>${fmt(bal)}</td></tr>`;
      }
      document.getElementById('sched').innerHTML=rows;
    }
    calc();
  </script>
  <script src="../../assets/common.js"></script>
  <footer class="site-footer"><div class="container">Your data never leaves your browser</div></footer>
</body>
</html>
