<!DOCTYPE html>
<html lang="en" data-theme="light">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Unit Converter â€” SmallTools</title>
  <link rel="stylesheet" href="../../assets/style.css">
  <script>(function(){const t=localStorage.getItem('st-theme')||'light';document.documentElement.setAttribute('data-theme',t);})();</script>
</head>
<body>
  <header class="site-header">
    <div class="container" style="display:flex;align-items:center;justify-content:space-between;padding:10px 20px">
      <a href="../../index.html" class="logo logo-sm">Small<span>Tools</span></a>
      <button class="theme-toggle" id="themeToggle">ğŸŒ™</button>
    </div>
  </header>
  <main class="tool-page">
    <div class="breadcrumb"><a href="../../index.html">Home</a> / Math / Unit Converter</div>
    <div class="tool-header">
      <h1>ğŸ“ Unit Converter</h1>
      <p>Convert between units of length, weight, temperature, area, volume, speed, cooking, pressure and more.</p>
    </div>
    <div class="card">
      <div class="form-row">
        <label>Category</label>
        <select id="category" onchange="loadCategory()">
          <option value="length">Length</option>
          <option value="weight">Weight / Mass</option>
          <option value="temperature">Temperature</option>
          <option value="area">Area</option>
          <option value="volume">Volume</option>
          <option value="speed">Speed</option>
          <option value="data">Data Storage</option>
          <option value="time">Time</option>
          <option value="cooking">Cooking</option>
          <option value="pressure">Pressure</option>
          <option value="energy">Energy</option>
          <option value="fuel">Fuel Economy</option>
        </select>
      </div>
      <div style="display:grid;grid-template-columns:1fr auto 1fr;gap:12px;align-items:flex-end">
        <div class="form-row" style="margin:0">
          <label>From</label>
          <select id="fromUnit" onchange="convert()"></select>
        </div>
        <button class="btn btn-ghost" onclick="swapUnits()" style="margin-bottom:0;padding:9px 14px">â‡„</button>
        <div class="form-row" style="margin:0">
          <label>To</label>
          <select id="toUnit" onchange="convert()"></select>
        </div>
      </div>
      <div class="form-row" style="margin-top:12px">
        <label>Value</label>
        <input type="number" id="fromVal" placeholder="Enter value..." oninput="convert()">
      </div>
      <div class="result-row">
        <div>
          <div class="result-label">Result</div>
          <div class="result-value" id="result">â€”</div>
        </div>
        <button class="btn btn-copy" id="copyBtn" onclick="copyResult()">Copy</button>
      </div>
    </div>
  </main>
  <footer class="site-footer"><div class="container">Your data never leaves your browser</div></footer>
  <script src="../../assets/common.js"></script>
  <script>
    const UNITS = {
      length: {
        labels: {m:'Meter (m)', km:'Kilometer (km)', cm:'Centimeter (cm)', mm:'Millimeter (mm)', mi:'Mile (mi)', yd:'Yard (yd)', ft:'Foot (ft)', in:'Inch (in)', nm:'Nanometer (nm)', um:'Micrometer (Âµm)'},
        factors: {m:1, km:1e3, cm:0.01, mm:1e-3, mi:1609.344, yd:0.9144, ft:0.3048, in:0.0254, nm:1e-9, um:1e-6}
      },
      weight: {
        labels: {kg:'Kilogram (kg)', g:'Gram (g)', mg:'Milligram (mg)', lb:'Pound (lb)', oz:'Ounce (oz)', t:'Metric Ton', st:'Stone (st)', ug:'Microgram (Âµg)'},
        factors: {kg:1, g:1e-3, mg:1e-6, lb:0.453592, oz:0.0283495, t:1000, st:6.35029, ug:1e-9}
      },
      area: {
        labels: {'mÂ²':'Sq Meter', 'kmÂ²':'Sq Kilometer', 'cmÂ²':'Sq Centimeter', ha:'Hectare', ac:'Acre', 'ftÂ²':'Sq Foot', 'inÂ²':'Sq Inch', 'miÂ²':'Sq Mile', 'ydÂ²':'Sq Yard'},
        factors: {'mÂ²':1, 'kmÂ²':1e6, 'cmÂ²':1e-4, ha:1e4, ac:4046.86, 'ftÂ²':0.0929, 'inÂ²':6.452e-4, 'miÂ²':2.59e6, 'ydÂ²':0.8361}
      },
      volume: {
        labels: {L:'Liter (L)', mL:'Milliliter (mL)', 'mÂ³':'Cubic Meter', 'cmÂ³':'Cubic Centimeter', gal:'US Gallon', qt:'US Quart', pt:'US Pint', fl_oz:'Fluid Ounce', cup:'US Cup'},
        factors: {L:1, mL:1e-3, 'mÂ³':1000, 'cmÂ³':1e-3, gal:3.78541, qt:0.946353, pt:0.473176, fl_oz:0.0295735, cup:0.236588}
      },
      speed: {
        labels: {'m/s':'m/s', 'km/h':'km/h', mph:'mph', knot:'Knot', 'ft/s':'ft/s', 'cm/s':'cm/s'},
        factors: {'m/s':1, 'km/h':1/3.6, mph:0.44704, knot:0.514444, 'ft/s':0.3048, 'cm/s':0.01}
      },
      data: {
        labels: {B:'Byte (B)', KB:'Kilobyte (KB)', MB:'Megabyte (MB)', GB:'Gigabyte (GB)', TB:'Terabyte (TB)', PB:'Petabyte (PB)', bit:'Bit', Kbit:'Kilobit', Mbit:'Megabit', Gbit:'Gigabit'},
        factors: {B:1, KB:1024, MB:1048576, GB:1073741824, TB:1099511627776, PB:1.126e15, bit:0.125, Kbit:128, Mbit:131072, Gbit:134217728}
      },
      time: {
        labels: {s:'Second (s)', ms:'Millisecond (ms)', us:'Microsecond (Âµs)', min:'Minute', h:'Hour', day:'Day', week:'Week', month:'Month (avg)', year:'Year'},
        factors: {s:1, ms:1e-3, us:1e-6, min:60, h:3600, day:86400, week:604800, month:2629800, year:31557600}
      },
      cooking: {
        labels: {tsp:'Teaspoon (tsp)', tbsp:'Tablespoon (tbsp)', fl_oz:'Fluid Oz (fl oz)', cup:'Cup', pint:'Pint', quart:'Quart', gal:'Gallon', mL:'Milliliter (mL)', L:'Liter (L)'},
        factors: {tsp:4.92892, tbsp:14.7868, fl_oz:29.5735, cup:236.588, pint:473.176, quart:946.353, gal:3785.41, mL:1, L:1000}
      },
      pressure: {
        labels: {Pa:'Pascal (Pa)', kPa:'Kilopascal (kPa)', MPa:'Megapascal (MPa)', bar:'Bar', psi:'PSI', atm:'Atmosphere (atm)', mmHg:'mmHg', inHg:'inHg'},
        factors: {Pa:1, kPa:1000, MPa:1e6, bar:1e5, psi:6894.76, atm:101325, mmHg:133.322, inHg:3386.39}
      },
      energy: {
        labels: {J:'Joule (J)', kJ:'Kilojoule (kJ)', cal:'Calorie (cal)', kcal:'Kilocalorie (kcal)', Wh:'Watt-hour (Wh)', kWh:'Kilowatt-hour (kWh)', BTU:'BTU'},
        factors: {J:1, kJ:1000, cal:4.184, kcal:4184, Wh:3600, kWh:3.6e6, BTU:1055.06}
      },
      fuel: {
        labels: {mpg:'MPG (US)', mpg_uk:'MPG (UK)', 'L/100km':'L/100km', 'km/L':'km/L'},
        factors: null
      },
      temperature: {
        labels: {C:'Celsius (Â°C)', F:'Fahrenheit (Â°F)', K:'Kelvin (K)', R:'Rankine (Â°R)'},
        factors: null
      }
    };

    function loadCategory() {
      const cat = document.getElementById('category').value;
      savePref('uc-cat', cat);
      const fromSel = document.getElementById('fromUnit');
      const toSel = document.getElementById('toUnit');
      const unit = UNITS[cat];
      const labels = unit.labels;
      const keys = Object.keys(labels);
      [fromSel, toSel].forEach(sel => {
        sel.innerHTML = keys.map(k => `<option value="${k}">${labels[k]}</option>`).join('');
      });
      const savedFrom = loadPref('uc-from-' + cat, keys[0]);
      const savedTo = loadPref('uc-to-' + cat, keys[1] || keys[0]);
      fromSel.value = keys.includes(savedFrom) ? savedFrom : keys[0];
      toSel.value = keys.includes(savedTo) ? savedTo : (keys[1] || keys[0]);
      convert();
    }

    function convert() {
      const cat = document.getElementById('category').value;
      const v = parseFloat(document.getElementById('fromVal').value);
      const f = document.getElementById('fromUnit').value;
      const t = document.getElementById('toUnit').value;
      savePref('uc-from-' + cat, f);
      savePref('uc-to-' + cat, t);
      if (isNaN(v)) { document.getElementById('result').textContent = 'â€”'; return; }

      let r;
      if (cat === 'temperature') {
        let c;
        if (f==='C') c=v; else if(f==='F') c=(v-32)*5/9; else if(f==='K') c=v-273.15; else c=(v-491.67)*5/9;
        if (t==='C') r=c; else if(t==='F') r=c*9/5+32; else if(t==='K') r=c+273.15; else r=(c+273.15)*9/5;
      } else if (cat === 'fuel') {
        const toLper100 = {mpg: v => 235.214/v, mpg_uk: v => 282.481/v, 'L/100km': v => v, 'km/L': v => 100/v};
        const fromLper100 = {mpg: v => 235.214/v, mpg_uk: v => 282.481/v, 'L/100km': v => v, 'km/L': v => 100/v};
        r = fromLper100[t](toLper100[f](v));
      } else {
        r = v * UNITS[cat].factors[f] / UNITS[cat].factors[t];
      }

      const display = Math.abs(r) >= 1e9 || (Math.abs(r) < 1e-4 && r !== 0)
        ? r.toExponential(4)
        : +r.toPrecision(8);
      document.getElementById('result').textContent = display + ' ' + t;
    }

    function swapUnits() {
      const f = document.getElementById('fromUnit');
      const t = document.getElementById('toUnit');
      [f.value, t.value] = [t.value, f.value];
      convert();
    }

    function copyResult() {
      copyText(document.getElementById('result').textContent, document.getElementById('copyBtn'));
    }

    const savedCat = loadPref('uc-cat', 'length');
    document.getElementById('category').value = savedCat;
    loadCategory();
  </script>
</body>
</html>
